<div class="actions">
    <button mat-raised-button (click)="addDistance()" class="action-button"><mat-icon>person_add</mat-icon>Add Distance</button>
    @if (selectedRow !== null) {
    <button mat-raised-button (click)="updateDistance()" class="action-button">
        <mat-icon>manage_accounts</mat-icon>Update Distance
    </button>
    <button mat-raised-button (click)="deleteDistance()" class="action-button warning-button">
        <mat-icon>person_remove</mat-icon>Delete Distance
    </button>
    }
</div>

<div class="table-custom">
    <table mat-table [dataSource]="distances" class="mat-elevation-z8">
        <!--- Note that these columns can be defined in any order.
          The actual rendered columns are set as a property on the row definition" -->

        @for (column of columns; track column) {
        <ng-container [matColumnDef]="column.id">
            <th mat-header-cell *matHeaderCellDef style="padding-bottom: 1rem">
                <span>{{ column.name }}</span>
                @if (column.icon) {
                    <mat-icon style="vertical-align: bottom;">{{column.icon}}</mat-icon>
                }
                @if (column.unit) {
                    <span>{{ ' (' + column.unit + ')' }}</span>
                }
            </th>
            <td mat-cell *matCellDef="let distance">{{ distance?.[column.id] }}</td>
        </ng-container>
        }

        <tr mat-header-row *matHeaderRowDef="getColumnIDs()" style="vertical-align: bottom"></tr>
        <tr
            mat-row
            *matRowDef="let row; columns: getColumnIDs()"
            (click)="selectRow(row)"
            [class]="'table-row' + (selectedRow === row ? ' table-row-selected' : '')"
        ></tr>
    </table>
</div>
